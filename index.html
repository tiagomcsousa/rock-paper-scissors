<!DOCTYPE html>

<head>
    <title>ROCK, PAPER OR SCISSORS</title>

    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="container">

        <div class="results">
            <div class="playerResults">
                <p>YOU</p>
                <div class="numPlayRes">
                    0
                </div>
            </div>
            <div class="computerResults">
                <p>COMPUTER</p>
                <div class="numPcRes">
                    0
                </div>
            </div>
        </div>

        
        <div class="topMessage">
            <h1>Play the classic Rock, Paper or Scissors against me!</h3>
        </div>

        <div class="playerButtons">
            <button><img src="./rock.png" id="rockBtn"></button>
            <button><img src="./paper.png" id="paperBtn"></button>
            <button><img src="./scissors.png" id="scissorBtn"></button>
        </div>
    </div>

    <script>

        function computerPlay() {
            let act;
            let randomNum = Math.floor(Math.random() * 3);
            if (randomNum == 0) {
                act = "rock";
            } else if (randomNum == 1) {
                act = "paper";
            } else {
                act = "scissors";
            }
            return act;
        }

        function playRound(playerAct, computerAct) {

            var computerActInsensitive = computerAct.toUpperCase();

            var roundResult;

            if (playerAct === "rockBtn" && computerActInsensitive === "ROCK") {
                roundResult = 1;
            } else if (playerAct === "paperBtn" && computerActInsensitive === "SCISSORS") {
                roundResult = 2;
            } else if (playerAct === "rockBtn" && computerActInsensitive === "SCISSORS") {
                roundResult = 1;
            } else if (playerAct === "rockBtn" && computerActInsensitive === "PAPER") {
                roundResult = 2;
            } else if (playerAct === "scissorBtn" && computerActInsensitive === "ROCK") {
                roundResult = 2;
            } else if (playerAct === "scissorBtn" && computerActInsensitive === "PAPER") {
                roundResult = 1;
            } else {
                roundResult = 3;
            }

            return roundResult;
        }

        function playerBtnClicked(e) {
            const btnClicked = e.target.id;

            console.log(btnClicked);

            const result = playRound(btnClicked, computerPlay());

            console.log(result);

            if(result === 1){
                const playRes = document.querySelector('.numPlayRes');
                const resAtual = playRes.textContent;
                const resFuturo = Number(resAtual) + 1;
                playRes.textContent=resFuturo;
            } else if (result === 2){
                const playRes = document.querySelector('.numPcRes');
                const resAtual = playRes.textContent;
                const resFuturo = Number(resAtual) + 1;
                playRes.textContent=resFuturo;
            } else if (result === 3) {
                alert("It's a draw!");
            }

        }

        const btns = document.querySelectorAll('.playerButtons');
        btns.forEach(btns => btns.addEventListener('click', playerBtnClicked));

    </script>

</body>

</html>